// Generated by CoffeeScript 2.4.1
(function() {
  var RuleTester, config, error, i, len, ref, rule, ruleTester, test, tests;

  ({
    rules: {
      'require-adddisplayname': rule
    }
  } = require('..'));

  ({RuleTester} = require('eslint'));

  ruleTester = new RuleTester();

  error = {
    message: 'Set a display name with addDisplayName()'
  };

  tests = {
    valid: [
      {
        code: 'flowMax()'
      },
      {
        code: 'const Component = flowMax(\n  addDisplayName(\'Component\'),\n  ({b}) => <div>{b}</div>\n)'
      },
      {
        code: 'const Component = flowMax(\n  addDisplayName(\'Something\'),\n  addProps({b: 2}),\n  ({b}) => <div>{b}</div>\n)'
      },
      {
        // not definitively a "component"
        code: 'flowMax(\n  ({b}) => <div>{b}</div>\n)'
      }
    ],
    invalid: [
      {
        code: 'const Component = flowMax(\n  ({b}) => <div>{b}</div>\n)',
        settings: {
          'ad-hok/should-fix-flow-flowmax': true
        },
        output: 'const Component = flowMax(\n  addDisplayName(\'Component\'), ({b}) => <div>{b}</div>\n)',
        errors: [error]
      },
      {
        // don't fix unless requested
        code: 'const Component = flowMax(\n  ({b}) => <div>{b}</div>\n)',
        output: 'const Component = flowMax(\n  ({b}) => <div>{b}</div>\n)',
        errors: [error]
      }
    ]
  };

  config = {
    parser: 'babel-eslint',
    parserOptions: {
      ecmaVersion: 2018,
      ecmaFeatures: {
        jsx: true
      }
    }
  };

  ref = [...tests.valid, ...tests.invalid];
  for (i = 0, len = ref.length; i < len; i++) {
    test = ref[i];
    Object.assign(test, config);
  }

  ruleTester.run('require-adddisplayname', rule, tests);

}).call(this);
